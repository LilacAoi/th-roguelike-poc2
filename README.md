# TooHuman Roguelike - PoC

TooHumanにインスパイアされた伝統的なローグライクゲーム。北欧神話をテーマにしたターン制戦略ゲームです。

## 概要

フレイヤ（北欧神話の愛と美と戦いの女神）を主人公とした、Tales of Maj'EyalやSword of the Stars: The Pitのような見下ろし型の伝統的ローグライクゲームです。

## 主な機能

### ゲームプレイ
- **伝統的なローグライク**: グリッドベースのターン制戦闘
- **ランダムダンジョン生成**: 部屋と廊下で構成されるマップ
- **視界システム (FOV)**: シャドウキャスティングアルゴリズムによる探索
- **パーマデス**: 死んだらやり直し

### 主人公: フレイヤ
- **クラス**: チャンピオン
- **特殊能力**:
  - ピストルマスター: ピストルでの精度とダメージ強化
  - クリティカルストライク: 2倍ダメージ
  - Valiant's Might: 敵を空中に打ち上げるバトルクライ

### 敵
1. **メフィット** (小型ドローン) - 飛行能力、Death Burst
2. **ミサイルメフィット** (範囲攻撃) - ミサイル発射
3. **ゴーレム** (大型敵) - 高HP・高防御、衝撃波攻撃
4. **エリートメフィット** (強化版) - 高ステータス、レアドロップ

### ボス: ガルム（地獄の番犬）
- **2フェーズ制**:
  - フェーズ1: 素早い接近戦、連続爪襲撃
  - フェーズ2: 自律ドローン放出、突進攻撃、ビーム発射

### 装備システム

#### 武器 (6種類)
**近接武器**:
- 剣 (Swords)
- 杖 (Staves)
- ハンマー (Hammers)

**遠距離武器**:
- ピストル (Pistols)
- ライフル (Rifles)
- キャノン (Cannons)

#### 装備スロット (6箇所)
- ヘルム (頭部)
- トルソ (胸部)
- ショルダー (肩)
- ガントレット (手甲)
- レギング (脚部)
- ブーツ (足部)

#### レアリティシステム (6段階)
- **灰色** (Common): 50%
- **緑色** (Less Common): 30%
- **青色** (Uncommon): 15%
- **紫色** (Rare): 4%
- **オレンジ色** (Very Rare): 0.9%
- **赤色** (Epic/Elite): 0.1%

### ルーンシステム
- 装備にルーンを装着してステータス強化
- レアリティが高いほどルーンスロットが多い
- ルーンタイプ: Strength, Agility, Vitality, Power, Defense, Critical Chance

## 操作方法

- **矢印キー**: 移動 / 近接攻撃
- **F キー**: 遠隔攻撃のターゲットモード切替
- **I キー**: インベントリ表示
- **Enter**: 遠隔攻撃実行
- **ESC**: ターゲットモードキャンセル

## ゲームフロー

1. キャラクター選択画面
2. ステージ1開始
3. 敵と戦闘 (4種類の敵)
4. 全ての敵を倒すとボス出現
5. ガルムを倒してステージクリア
6. 勝利/敗北画面

## 技術スタック

- **React 19** + **TypeScript** (strict mode)
- **Vite** - ビルドツール
- **Tailwind CSS v4** - スタイリング
- **ローグライクメカニクス**: パスファインディング、AI、FOV、ターン制戦闘

## セットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバー起動
npm run dev

# ビルド
npm run build

# プレビュー
npm run preview
```

## プロジェクト構造

```
src/
├── components/          # Reactコンポーネント
│   ├── CharacterSelect.tsx
│   ├── Game.tsx
│   ├── GameMap.tsx
│   ├── HUD.tsx
│   ├── Inventory.tsx
│   └── MessageLog.tsx
├── types/              # TypeScript型定義
│   └── game.ts
├── utils/              # ゲームロジック
│   ├── ai.ts          # 敵AI・パスファインディング
│   ├── combat.ts      # 戦闘システム
│   ├── fov.ts         # 視界計算
│   ├── gameInit.ts    # ゲーム初期化
│   ├── itemGenerator.ts  # アイテム生成
│   └── mapGenerator.ts   # マップ生成
├── App.tsx
├── main.tsx
└── index.css
```

## ゲームデザインの特徴

### バランス調整
- 各武器タイプに固有のベースダメージとクリティカル率
- 装備スロットによる異なるステータスボーナス
- レアリティに応じたステータス倍率
- ボスの2フェーズによる段階的難易度上昇

### ハクスラ要素
- 敵を倒すと装備・武器がランダムドロップ
- レアリティシステムによる強力な装備の収集
- ボスは通常敵の3〜5倍のドロップ率

### AI設計
- メフィット: 積極的に追跡
- ミサイルメフィット: 距離を保って射撃
- ゴーレム: 低速だが近距離で強力
- エリートメフィット: 高速で高火力

## 今後の拡張予定 (このPoCでは未実装)

- サイバネティクス改造システム
- Human Route / Cybernetic Route
- ステージ2〜4
- ルーンの進化メカニズム
- マルチプレイ

## ライセンス

MIT

## 作者

このプロジェクトは、TooHumanにインスパイアされたオリジナルのゲームデザインとして作成されました。
